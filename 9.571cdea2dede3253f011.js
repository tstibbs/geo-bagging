(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"7WD3":function(r,e,t){"use strict";t.r(e);var o=t("Iaci"),n=t("kHqW");function i(r,e,t,o,i){var a=n.a.gridRefToLngLat(e);r.equal(a.length,2),s(r,a[0],t,i),s(r,a[1],o,i)}function s(r,e,t,o){var n=Math.floor(1e5*t)/1e5,i=Math.ceil(1e5*t)/1e5;n-=o,i+=o,r.ok(e>=n,e+" should be >= "+n),r.ok(e<=i,e+" should be <= "+i)}describe("conversion",(function(){it("latLngToGridRef - should return actual grid refs",(function(){o.assert.equal(n.a.latLngToGridRef(52.657977,1.716038),"TG 51408 13177")})),it("osgbToLngLat - should work for valid OSBGs",(function(){var r=n.a.osgbToLngLat(651409,313177);o.assert.equal(r.length,2),s(o.assert,r[0],1.7160384428258,0),s(o.assert,r[1],52.657976601295,0)})),it("gridRefToOsgb - should work for valid grid refs",(function(){o.assert.deepEqual(n.a.gridRefToOsgb("TG 51408 13177"),[651408,313177])})),it("gridRefToOsgb - should work for channel islands",(function(){o.assert.deepEqual(n.a.gridRefToOsgb("XD  83873  22339"),[383873,-77661])})),it("gridRefToLngLat - should work for valid grid refs",(function(){i(o.assert,"TG 51408 13177",1.716023690108,52.657977064472,0)})),it("gridRefToOsgb - should error for irish grids",(function(){o.assert.throws((function(){n.a.gridRefToOsgb("S  6797  3789")}),/Irish/),o.assert.throws((function(){n.a.gridRefToOsgb("W328850")}),/Irish/)})),it("gridRefToLngLat - should work for ireland and channel islands",(function(){i(o.assert,"MZ 82568 85820",-8.53034,54.99125,2e-5),i(o.assert,"MZ 86383 16308",-8.37269,54.37367,2e-5),i(o.assert,"RE 09504 80322",-9.48801,53.98501,2e-5),i(o.assert,"RO 61800 27500",-9.79229,51.68706,2e-5),i(o.assert,"WA 55943 05921",-13.43272,48.48317,1e-4),i(o.assert,"WA 57817 06737",-13.40949,48.49285,1e-4)}))}))},kHqW:function(r,e,t){"use strict";var o=t("p5/s"),n=Object(o.a)("+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +datum=OSGB36 +units=m +no_defs");function i(r,e){for(var t=r.toString();t.length<e;)t="0"+t;return t}e.a={latLngToGridRef:function(r,e){var t=10,o=n.forward([e,r]),s=o[0],a=o[1];if(t=void 0===t?10:Number(t),isNaN(t))throw new Error("Invalid precision");var f=Number(Number(s)),d=Number(Number(a));if(isNaN(f)||isNaN(d))throw new Error("Invalid grid reference: "+[r,e]);if(0===t)return i(f,6)+","+i(d,6);var l=Math.floor(f/1e5),g=Math.floor(d/1e5);if(l<0||l>6||g<0||g>12)return"";var u=19-g-(19-g)%5+Math.floor((l+10)/5),h=5*(19-g)%25+l%5;u>7&&u++,h>7&&h++;var c=String.fromCharCode(u+"A".charCodeAt(0),h+"A".charCodeAt(0));return f=Math.floor(f%1e5/Math.pow(10,5-t/2)),d=Math.floor(d%1e5/Math.pow(10,5-t/2)),c+" "+i(f,t/2)+" "+i(d,t/2)},osgbToLngLat:function(r,e){return n.inverse([r,e])},gridRefToOsgb:function(r){r=String(r).trim(),this._determineGridRefType(r);var e=r.match(/^(\d+),\s*(\d+)$/);if(e)return new OsGridRef(e[1],e[2]);if(!(e=r.match(/^[A-Z]{2}\s*[0-9]+\s*[0-9]+$/i)))throw new Error("Invalid grid reference: "+r);var t=r.toUpperCase().charCodeAt(0)-"A".charCodeAt(0),o=r.toUpperCase().charCodeAt(1)-"A".charCodeAt(0);t>7&&t--,o>7&&o--;var n=(t-2)%5*5+o%5,i=19-5*Math.floor(t/5)-Math.floor(o/5),s=r.slice(2).trim().split(/\s+/);if(1==s.length&&(s=[s[0].slice(0,s[0].length/2),s[0].slice(s[0].length/2)]),n>=15&&(n-=25),i>20&&(i-=25),n<-10||i<-5)throw new Error("Invalid grid reference: gridref="+r+", e100km="+n+", n100km="+i);if(2!=s.length)throw new Error("Invalid grid reference: "+r);if(s[0].length!=s[1].length)throw new Error("Invalid grid reference: "+r);return s[0]=(s[0]+"00000").slice(0,5),s[1]=(s[1]+"00000").slice(0,5),[parseInt(n+"00000")+parseInt(s[0]),parseInt(i+"00000")+parseInt(s[1])]},gridRefToLngLat:function(r){var e=this.gridRefToOsgb(r);return n.inverse(e)},_determineGridRefType:function(r){if(/^\w\s*\d{3,}\s*\d{3,}$/.test(r))throw new Error("Irish grid references currently unsupported: "+r)}}}}]);
//# sourceMappingURL=9.571cdea2dede3253f011.js.map